define("text!lib/view/pc/popbox.tmpl",[],function(){return'<div class="popbox">\r\n	<div class="inset">\r\n		<div class="popheader">\r\n			<div class="ttl"><?=this.title?></div>\r\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\r\n		</div>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<div class="popfooter">\r\n			<?=this.footer?>\r\n		</div>\r\n	</div>\r\n</div>'}),define("lib/popbox",["require","exports","module","jquery","dtools","template","text!./view/pc/popbox.tmpl"],function(t,i,n){var o=t("jquery"),e=t("dtools"),s=t("template"),l=e.$c("div");document.body.appendChild(l);var r=o(".cover");0==r.length&&(r=l.cloneNode(),r.className="cover",document.body.appendChild(r),r=o(r));var c=function(t){this._initPopBox(t)};c.prototype={_initPopBox:function(t){e.EventEmitter.call(this),this.options=e.mix({title:"提醒",content:"",cancelTxt:"取消",confirmTxt:"兑换",cancelCallback:null,confirmCallback:null,template:null,customProperties:{}},t),this.container=l.cloneNode(),this.panel=o(this.container),this.initStatus=!1,this.lockScroll=!1,this.panel.hide(),null==this.options.template&&(this.options.template=c.TEMPLATE),this.container.innerHTML=this.options.template.render(e.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties)),document.body.appendChild(this.container),this._initEvents()},initOpitions:function(t){this.options=e.mix(this.options,t)},_initEvents:function(){var t=this;o(this.container).on("click",".btn-close",function(){t.hide(),t.options.closeCallback&&t.options.closeCallback.call(t)})},show:function(t){arguments.length>0&&(this.options=e.mix(this.options,t),this.container.innerHTML=this.options.template.render(e.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties))),this.panel.show(),this.lockScroll=!0,c.SHOW_COVER&&this.showCover()},hide:function(){this.container.style.display="none",this.lockScroll=!1,c.SHOW_COVER&&this.hideCover()},showCover:function(){r.show()},hideCover:function(){r.hide()}},e.extend(c,e.EventEmitter),c.TEMPLATE=new s(t("text!./view/pc/popbox.tmpl")),c.SHOW_COVER=!0,n.exports=c}),define("text!lib/view/pc/alert.tmpl",[],function(){return'<div class="popbox alertbox">\r\n	<div class="inset">\r\n		<div class="popheader">\r\n			<div class="ttl"><?=this.title?></div>\r\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\r\n		</div>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<div class="popfooter">\r\n			<div class="btn btn-confirm"><?=this.confirmTxt?></div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("lib/alert",["require","exports","module","jquery","dtools","template","./popbox","text!./view/pc/alert.tmpl","text!./view/pc/alert.tmpl"],function(t,i,n){var o=t("jquery"),e=t("dtools"),s=t("template"),l=t("./popbox"),r=(new s(t("text!./view/pc/alert.tmpl")),document.createElement("div"),function(t){this._initAlertBox(t)});r.prototype={_initAlertBox:function(t){this.options=e.mix({title:"兑换失败，请稍后再试。",confirmTxt:"我知道了",confirmCallback:null,template:r.TEMPLATE,autoshow:!0},t),l.call(this,this.options),this.options.autoshow&&this.show()},_initEvents:function(){r.parent._initEvents.call(this);var t=this;o(this.container).on("click",".btn-confirm",function(){t.hide(),t.emit("confirm"),t.options.confirmCallback&&t.options.confirmCallback.call(t)})},show:function(t){"string"==typeof t&&(t={content:t}),r.parent.show.call(this,t)},setConfirm:function(t){this.on("confirm",t)}},e.extend(r,l),r.TEMPLATE=new s(t("text!./view/pc/alert.tmpl")),n.exports=r}),define("text!lib/view/pc/toast.tmpl",[],function(){return'<div class="toast">\r\n	<div class="inset">\r\n		<div class="loader">\r\n			<i class="ico ico-loading48"></i>\r\n		</div>\r\n		<div class="txt"><?=this.text?></div>\r\n	</div>\r\n</div>'}),define("lib/toast",["require","exports","module","dtools","template","./popbox","text!./view/pc/toast.tmpl"],function(t,i,n){var o=t("dtools"),e=t("template"),s=t("./popbox"),l=o.$c("div"),r=function(t){this._initToast(t)};r.prototype={_initToast:function(t){this.options=o.mix({txt:"正在加载...",interval:2e3,autoHide:!0,template:r.TEMPLATE,showLoader:!0},t),s.call(this,this.options),this.container=l.cloneNode(),this.timer=null,this.initStatus=!1,document.body.appendChild(this.container),this.show()},hide:function(){r.SHOW_COVER&&this.hideCover(),this.container.style.display="none",clearTimeout(self.timer)},show:function(t){r.SHOW_COVER&&this.showCover();var i=this,n=t?t:this.options.txt;this.container.innerHTML=this.options.template.render({text:n,showLoader:this.options.showLoader}),this.initStatus?this.container.style.display="block":this.initStatus=!0,this.options.autoHide&&(this.timer=setTimeout(function(){i.hide(),i.timer=null,i.options.confirmCallback.call(this)},this.options.interval))},hideLoader:function(){this.options.showLoader=!1,this.show()},showLoader:function(){this.options.showLoader=!0,this.show()}},o.extend(r,s),r.TEMPLATE=new e(t("text!./view/pc/toast.tmpl")),r.SHOW_COVER=!1,n.exports=r}),define("text!lib/view/pc/confirm.tmpl",[],function(){return'<div class="popbox">\r\n	<div class="inset">\r\n		<div class="popheader">\r\n			<div class="ttl"><?=this.title?></div>\r\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\r\n		</div>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<div class="popfooter">\r\n			<div class="btn-group">\r\n				<div class="btn btn-confirm"><?=this.confirmTxt?></div>\r\n				<div class="btn btn-cancel"><?=this.cancelTxt?></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("lib/confirm",["require","exports","module","jquery","dtools","template","./popbox","text!./view/pc/confirm.tmpl","text!./view/pc/confirm.tmpl"],function(t,i,n){var o=t("jquery"),e=t("dtools"),s=t("template"),l=t("./popbox"),r=(new s(t("text!./view/pc/confirm.tmpl")),document.createElement("div"));document.body.appendChild(r);var c=function(t){this._initConfirmBox(t)};c.prototype={_initConfirmBox:function(t){this.options=e.mix({title:"确认",content:"",cancelTxt:"取消",confirmTxt:"确定",cancelCallback:null,confirmCallback:null,template:c.TEMPLATE},t),l.call(this,this.options)},_initEvents:function(){c.parent._initEvents.call(this);var t=this;o(this.container).on("click",".btn-cancel",function(){t.hide(),t.options.cancelCallback&&t.options.cancelCallback.call(t)}),o(this.container).on("click",".btn-confirm",function(){t.hide(),t.options.confirmCallback&&t.options.confirmCallback.call(t)})}},e.extend(c,l),c.TEMPLATE=new s(t("text!./view/pc/confirm.tmpl")),n.exports=c}),define("text!lib/view/m/popbox.tmpl",[],function(){return'<div class="popbox">\r\n	<div class="inset">\r\n		<header><?=this.title?></header>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<footer>\r\n			<div class="btn-group">\r\n			</div>\r\n		</footer>\r\n	</div>\r\n</div>'}),define("text!lib/view/m/alert.tmpl",[],function(){return'<div class="popbox alertbox">\r\n	<div class="inset">\r\n		<div class="panel-body">\r\n			<i class="ico ico-warning"></i>\r\n			<span><?=this.title?></span>\r\n		</div>\r\n		<footer>\r\n			<div class="btn btn-confirm"><?=this.confirmTxt?></div>\r\n		</footer>\r\n	</div>\r\n</div>'}),define("text!lib/view/m/confirm.tmpl",[],function(){return'<div class="popbox">\r\n	<div class="inset">\r\n		<header><?=this.title?></header>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<footer>\r\n			<div class="btn-group">\r\n				<div class="btn btn-cancel"><?=this.cancelTxt?></div>\r\n				<div class="btn btn-confirm"><?=this.confirmTxt?></div>\r\n			</div>\r\n		</footer>\r\n	</div>\r\n</div>'}),define("text!lib/view/m/toast.tmpl",[],function(){return'<div class="toast">\r\n	<div class="inset">\r\n		<?if(this.showLoader){?>\r\n		<div class="icon-box">\r\n			<div class="loader">\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n				<div class="line"></div>\r\n			</div>\r\n		</div>\r\n		<?}?>\r\n		<div class="txt"><?=this.text?></div>\r\n	</div>\r\n</div>\r\n'}),define("popbox",["require","exports","module","./lib/popbox","./lib/alert","./lib/toast","./lib/confirm","template","text!./lib/view/m/popbox.tmpl","text!./lib/view/m/alert.tmpl","text!./lib/view/m/confirm.tmpl","text!./lib/view/m/toast.tmpl","text!./lib/view/pc/popbox.tmpl","text!./lib/view/pc/alert.tmpl","text!./lib/view/pc/confirm.tmpl","text!./lib/view/pc/toast.tmpl"],function(t,i,n){var o=t("./lib/popbox"),e=t("./lib/alert"),s=t("./lib/toast"),l=t("./lib/confirm"),r=t("template");i.PopBox=o,i.Alert=e,i.Toast=s,i.Confirm=l;var c=i.setTemplate=function(t){"popbox"in t&&(o.TEMPLATE=new r(t.popbox)),"alert"in t&&(e.TEMPLATE=new r(t.alert)),"confirm"in t&&(l.TEMPLATE=new r(t.confirm)),"toast"in t&&(s.TEMPLATE=new r(t.toast))},a=i.setMobileDefault=function(){c({popbox:t("text!./lib/view/m/popbox.tmpl"),alert:t("text!./lib/view/m/alert.tmpl"),confirm:t("text!./lib/view/m/confirm.tmpl"),toast:t("text!./lib/view/m/toast.tmpl")})};i.setDesktopDefault=function(){c({popbox:t("text!./lib/view/pc/popbox.tmpl"),alert:t("text!./lib/view/pc/alert.tmpl"),confirm:t("text!./lib/view/pc/confirm.tmpl"),toast:t("text!./lib/view/pc/toast.tmpl")})};a();var p=null;i.toast=function(t,i,n){if(3==arguments.length);else if(2==arguments.length)"function"==typeof i&&(n=i,i=null);else if(0===arguments.length)return p;var o={};return t&&(o.txt=t),1!=arguments.length||i||(i=0),void 0!==i&&null!==i&&(0==i?o.autoHide=!1:(o.autoHide=!0,o.interval=i)),void 0!==n?o.confirmCallback=n:o.confirmCallback=function(){},null==p?p=new s(o):(p.initOpitions(o),p.show()),p};var d=null;i.alert=function(t,i){return i=i?i:function(){},null===d?d=new e({title:"提醒",confirmTxt:"确定",confirmCallback:i,content:t,autoshow:!0}):d.initOpitions({content:t,confirmCallback:i}),d.show(),d};var v=null;i.confirm=function(t,i){return i=i?i:function(){},null===v?v=new l({title:"提醒",confirmTxt:"确定",confirmCallback:i,content:t,autoshow:!0}):v.initOpitions({content:t,confirmCallback:i}),v.show(),v}});